{% extends "base.html" %}

{% block title %}ADMIN | EDIT PRODUCT{% endblock %}

{% block content %}
<section class="admin-form-wrap">
    <h1 class="admin-title">상품 수정 (ID: {{ product.id }})</h1>

    <form method="post" enctype="multipart/form-data" class="admin-form">
        <label class="admin-label">
            상품명
            <input type="text" name="name" required class="admin-input" value="{{ product.name }}">
        </label>

        <label class="admin-label">
            가격 (숫자, KRW)
            <input type="number" name="price" min="0" step="1000" class="admin-input" value="{{ product.price }}">
        </label>

        <label class="admin-label">
            현재 이미지
            <div class="admin-thumb" style="margin-top: 4px;">
                <img src="{{ product.image_url }}" alt="{{ product.name }}">
            </div>
        </label>

        <label class="admin-label">
            이미지 변경 (선택)
            <input type="file" name="image" accept="image/*" class="admin-input">
            <span class="admin-hint">새 파일을 선택하지 않으면 기존 이미지가 유지됩니다.</span>
        </label>

        <label class="admin-label">
            카테고리
            <select name="category" class="admin-input">
                {% for c in categories %}
                <option value="{{ c }}" {% if c==product.category %}selected{% endif %}>{{ c }}</option>
                {% endfor %}
            </select>
        </label>

        <label class="admin-label">
            상태
            <select name="status" class="admin-input">
                <option value="IN_STOCK" {% if product.status=="IN_STOCK" %}selected{% endif %}>IN_STOCK</option>
                <option value="OUT_OF_STOCK" {% if product.status=="OUT_OF_STOCK" %}selected{% endif %}>OUT_OF_STOCK
                </option>
            </select>
        </label>

        <label class="admin-label">
            설명
            <textarea name="description" rows="5" class="admin-input">{{ product.description or "" }}</textarea>
        </label>

        <div class="admin-form-actions">
            <a href="{{ url_for('admin_products') }}" class="admin-secondary-button">취소</a>
            <button type="submit" class="admin-button">저장</button>
        </div>
    </form>
</section>
{% endblock %}